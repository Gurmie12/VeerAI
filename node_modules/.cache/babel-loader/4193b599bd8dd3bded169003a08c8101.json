{"ast":null,"code":"var _jsxFileName = \"/Users/gurman/Desktop/veer AI/veerai/src/components/AJAXButton.js\";\nimport React, { useState } from 'react';\nimport '../css/ajax.css';\n\nfunction AJAXButton() {\n  //React Hooks that store the API data\n  const [apiData, setApiData] = useState(''); //Function that handles the click of the fetch button and retrieves API data through AJAX\n\n  const handleClick = e => {\n    e.preventDefault(); //Create the XHR object\n\n    const xhr = new XMLHttpRequest(); //Specify request and API endpoint and state synchnorosity\n\n    xhr.open('GET', 'https://api.thevirustracker.com/free-api?global=stats', true); //On the GET request proccess the data but check for the status from API\n\n    xhr.onload = () => {\n      if (xhr.status === 200) {\n        //Set the parsed JSON data to a variable\n        let data = JSON.parse(xhr.responseText).results[0]; //Set data to React Hook and render a successful alert\n\n        setApiData(data);\n        renderAPI();\n        renderAlert('AJAX successfuly fetched API, Data can be seen below!', 'alert-success');\n      } else {\n        renderAlert('The Status of the AJAX Request was ' + xhr.status + '. Try again!', 'alert-danger');\n      }\n    }; //Finalize the AJAX request\n\n\n    xhr.send();\n  }; //Function that handles dispaly of alerts\n\n\n  function renderAlert(message, className) {\n    //Set Dom vairables for where the alert will be placed and create a new alert component\n    const body = document.getElementById('body');\n    const title = document.getElementById('ajax-title');\n    const alert = document.createElement('div');\n    alert.id = \"alert\";\n    alert.className = \"alert center-text \" + className;\n    alert.appendChild(document.createTextNode(message)); //Check that an alert is not already displayed\n\n    if (document.getElementById(\"alert\")) {\n      document.getElementById('alert').remove();\n      body.insertBefore(alert, title);\n      setTimeout(() => {\n        alert.remove();\n      }, 3000);\n    } else {\n      body.insertBefore(alert, title);\n      setTimeout(() => {\n        alert.remove();\n      }, 3000);\n    }\n  }\n\n  ; //Pointer function that renders the fetched data from the coronavirus API to the body\n\n  const renderAPI = () => {\n    //Create DOM object for display list\n    const list = document.getElementById('data-list'); //Retreive all unique keys from return object of API\n\n    const keys = Object.keys(apiData); //Loop through each key and append the list item to the innerHTML variable\n\n    let innherHtml = \"\";\n    keys.map((key, i) => {\n      innherHtml += `\n                <li className=\"list-group-item\" key=${i}>${apiData[key]}</li>\n            `;\n    }); //Append the innerHTML as a child of the list\n\n    list.innerHTML = innherHtml;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ajax-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container text-center\",\n    id: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-4 mt-3 mb-5\",\n    id: \"ajax-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"AJAX API Fetch (Coronavirus API)\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success mb-5\",\n    onClick: e => handleClick(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, \"Fetch!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group\",\n    id: \"data-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }))));\n}\n\nexport default AJAXButton;","map":{"version":3,"sources":["/Users/gurman/Desktop/veer AI/veerai/src/components/AJAXButton.js"],"names":["React","useState","AJAXButton","apiData","setApiData","handleClick","e","preventDefault","xhr","XMLHttpRequest","open","onload","status","data","JSON","parse","responseText","results","renderAPI","renderAlert","send","message","className","body","document","getElementById","title","alert","createElement","id","appendChild","createTextNode","remove","insertBefore","setTimeout","list","keys","Object","innherHtml","map","key","i","innerHTML"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport '../css/ajax.css';\n\nfunction AJAXButton(){\n    //React Hooks that store the API data\n    const [apiData, setApiData] = useState('');\n\n\n    //Function that handles the click of the fetch button and retrieves API data through AJAX\n    const handleClick = (e) =>{\n        e.preventDefault();\n\n        //Create the XHR object\n        const xhr = new XMLHttpRequest();\n\n        //Specify request and API endpoint and state synchnorosity\n        xhr.open('GET', 'https://api.thevirustracker.com/free-api?global=stats', true);\n\n        //On the GET request proccess the data but check for the status from API\n        xhr.onload = () =>{\n            if(xhr.status === 200){\n                \n                //Set the parsed JSON data to a variable\n                let data = (JSON.parse(xhr.responseText).results)[0];\n                \n                //Set data to React Hook and render a successful alert\n                setApiData(data);\n                renderAPI();\n                renderAlert('AJAX successfuly fetched API, Data can be seen below!', 'alert-success');\n            }else{\n                renderAlert('The Status of the AJAX Request was ' + xhr.status + '. Try again!', 'alert-danger');\n            }   \n        }\n\n        //Finalize the AJAX request\n        xhr.send();\n    };\n\n    //Function that handles dispaly of alerts\n    function renderAlert(message, className){\n\n    //Set Dom vairables for where the alert will be placed and create a new alert component\n    const body = document.getElementById('body');\n    const title = document.getElementById('ajax-title');\n    const alert = document.createElement('div');\n    alert.id = \"alert\";\n    alert.className = \"alert center-text \" + className;\n    alert.appendChild(document.createTextNode(message));\n\n    //Check that an alert is not already displayed\n    if(document.getElementById(\"alert\")){\n        document.getElementById('alert').remove();\n        body.insertBefore(alert, title);\n        setTimeout(() =>{\n          alert.remove();\n        }, 3000);\n    }else{\n        body.insertBefore(alert, title);\n        setTimeout(() =>{\n          alert.remove();\n        }, 3000);\n    }\n  };\n\n\n    //Pointer function that renders the fetched data from the coronavirus API to the body\n    const renderAPI = () =>{\n\n        //Create DOM object for display list\n        const list = document.getElementById('data-list');\n\n        //Retreive all unique keys from return object of API\n        const keys = Object.keys(apiData);\n\n        //Loop through each key and append the list item to the innerHTML variable\n        let innherHtml = \"\";\n        keys.map((key,i) =>{\n            innherHtml+= `\n                <li className=\"list-group-item\" key=${i}>${apiData[key]}</li>\n            `\n        })\n\n        //Append the innerHTML as a child of the list\n        list.innerHTML = innherHtml;\n    };\n\n\n    return(\n        <div className=\"ajax-body\">\n            <div className=\"container text-center\" id=\"body\">\n                <h1 className=\"display-4 mt-3 mb-5\" id=\"ajax-title\">AJAX API Fetch (Coronavirus API)</h1>\n                <br/>\n                <br/>\n\n                <button className=\"btn btn-success mb-5\" onClick={e => handleClick(e)}>Fetch!</button>\n\n                <div className=\"container text-center\">\n                    <ul className=\"list-group\" id=\"data-list\">\n                        \n                    </ul>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default AJAXButton;"]},"metadata":{},"sourceType":"module"}